<div *ngIf="ticket">
  <div class="row">
    <form [formGroup]="ticketForm">
    <!--                categories part start                  -->
    <div class="input-field col m6 s12">
      <h5>Category</h5>
      <div *ngIf="!edit.category" class="underlined-block">
        <app-categories-flat-page
          (click)="edit.category = !edit.category"
          [currentTicketCategory]="ticket.category">
        </app-categories-flat-page>
      </div>
      <div *ngIf="edit.category" class="underlined-block">
        <app-categories-page
          [checkedItemId]="ticketCategory"
          [checkItemMode]="true"
          [hideChildren]="true"
          (chooseCategory)="onChooseCategory($event)">
        </app-categories-page>
        <a class="waves-effect waves-light btn light-green darken-3 margin-sm"
          (click)="applyCategoryChoose()">OK</a>
        <a class="waves-effect waves-light btn grey darken-3 margin-sm"
          (click)="cancelCategoryChoose()">Cancel</a>
      </div>
    </div>
    <!--                categories part end                  -->
    <!--                tags part start                  -->
    <div class="input-field col m6 s12">
      <h5>Tags</h5>
      <div>
        <!-- Default with no input (automatically generated)  -->
        <div class="chip">
          Tag
          <i class="close material-icons">close</i>
        </div>

        <input class="custom-class">

      </div>

    </div>
    <!--                tags part end                  -->
    <!--                question part start                 -->
      <div class="input-field col s12">
        <h5>Question</h5>
        <div *ngIf="!edit.question" class="underlined-block">
          <div class="clickable"
              [innerHTML]="ticket.question ? ticket.question : 'Enter question here' | keepHtml"
              (click)="edit.question = !edit.question">
          </div>
        </div>
        <div *ngIf="edit.question">
    <!--          tool buttons start              -->
          <div>
            <app-format-buttons
              (formatBold)="makeBold($event, 'question')"
              (formatItalic)="makeItalic($event, 'question')"
              (formatLiftUp)="makeSup($event, 'question')"
              (formatPullDown)="makeSub($event, 'question')"
              (formatPre)="makePre($event, 'question')"
              (formatHighlight)="highlightBlock($event, 'question')"
              (formatH3)="makeH3($event, 'question')"
              (formatH4)="makeH4($event, 'question')"
              (formatH5)="makeH5($event, 'question')"
              (formatClear)="clearTag($event, 'question')"
              [area]="questionarea">
            </app-format-buttons>
          </div>
      <!--          tool buttons end              -->
          <textarea autosize class="materialize-textarea" #questionarea
                    formControlName="question"
                    [innerHTML]="ticket.question">
          </textarea>
        </div>
        
        <div *ngIf="edit.question">
          <a class="waves-effect waves-light btn light-green darken-3 margin-sm"
          (click)="applyQuestionText()">OK</a>
          <a class="waves-effect waves-light btn grey darken-3 margin-sm"
          (click)="cancelQuestionText()">Cancel</a>
        </div>
      </div>
    <!--                question part end                 -->
    <!--                answer part start                 -->
      <div class="input-field col s12">
        <h5>Answer</h5>
        <div *ngIf="!edit.answer" class="underlined-block">
          <div class="clickable"
              [innerHTML]="ticket.answer ? ticket.answer : 'Enter answer here' | keepHtml"
              (click)="edit.answer = !edit.answer">
          </div>
        </div>
        <div *ngIf="edit.answer">
    <!--          tool buttons start              -->
          <div>
            <app-format-buttons
              (formatBold)="makeBold($event, 'answer')"
              (formatItalic)="makeItalic($event, 'answer')"
              (formatLiftUp)="makeSup($event, 'answer')"
              (formatPullDown)="makeSub($event, 'answer')"
              (formatPre)="makePre($event, 'answer')"
              (formatHighlight)="highlightBlock($event, 'answer')"
              (formatH3)="makeH3($event, 'answer')"
              (formatH4)="makeH4($event, 'answer')"
              (formatH5)="makeH5($event, 'answer')"
              (formatClear)="clearTag($event, 'answer')"
              [area]="answerarea">
            </app-format-buttons>
          </div>
    <!--          tool buttons end              -->
          <textarea autosize class="materialize-textarea" #answerarea
                    formControlName="answer"
                    [innerHTML]="ticket.answer">
          </textarea>
        </div>
        
        <div *ngIf="edit.answer">
          <a class="waves-effect waves-light btn light-green darken-3 margin-sm"
          (click)="applyAnswerText()">OK</a>
          <a class="waves-effect waves-light btn grey darken-3 margin-sm"
          (click)="cancelAnswerText()">Cancel</a>
        </div>
      </div>
    <!--                answer part end                 -->
    </form>
  </div>

  <div>
    <button class="waves-effect waves-light btn light-green darken-3 margin-sm" [disabled]="!ticketForm.valid"
      (click)="onSave()">
      <i class="material-icons left">check</i>Done
    </button>
    <button class="waves-effect waves-light btn grey darken-3 margin-sm"
      routerLink="../"><i class="material-icons left">chevron_left</i>Go Back
    </button>
  </div>

</div>
